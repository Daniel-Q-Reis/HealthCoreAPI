# Terraform Variables Configuration
# ==================================
# INSTRUCTIONS:
# 1. Copy this file: cp terraform.tfvars.example terraform.tfvars
# 2. Edit terraform.tfvars and change the values below
# 3. NEVER commit terraform.tfvars (already in .gitignore)

# ============================================================
# CRITICAL: Database Password
# ============================================================
# CHANGE THIS! Use strong password with:
# - At least 8 characters
# - Uppercase, lowercase, numbers, special chars
# - Example: "MyS3cur3P@ssw0rd2026!"

db_admin_username = "healthcoreapi_admin"
db_admin_password = "CHANGE_ME_SecurePassword123!"  # ⚠️ CHANGE THIS!

# ============================================================
# Azure Configuration
# ============================================================

environment = "prod"
location    = "centralus"  # Changed from eastus due to restrictions

# ============================================================
# Database Configuration
# ============================================================
# B1ms (2GB RAM) - Recommended for 15 concurrent users
# B2s (4GB RAM) - Only if AI workload increases significantly

postgres_sku        = "B_Standard_B1ms"  # Cost: $30/month
postgres_storage_mb = 32768               # 32GB

# ============================================================
# Redis Cache Configuration
# ============================================================
# 0 = C0 (250MB) - NOT recommended (Celery may run out of memory)
# 1 = C1 (1GB)   - Recommended for stability

redis_capacity = 1  # Cost: $16/month

# ============================================================
# Django API Autoscaling
# ============================================================

django_cpu          = 0.25     # 0.25 vCPU per container
django_memory       = "0.5Gi"  # 512MB RAM per container
django_min_replicas = 0        # Scale to zero (save costs during idle)
django_max_replicas = 3        # Max 3 containers under load

# ============================================================
# Resource Tags (for cost tracking and organization)
# ============================================================

tags = {
  Project     = "HealthCoreAPI"
  Environment = "Production"
  ManagedBy   = "Terraform"
  Owner       = "Daniel de Queiroz Reis"
  Region      = "East US"
  CostCenter  = "Azure-Credits-1000USD"
}

# ============================================================
# COST ESTIMATE (Monthly)
# ============================================================
# PostgreSQL B1ms:        $30
# Redis C1:               $16
# Event Hubs Standard:    $11
# Cosmos DB Serverless:   $24
# Container Apps:         $30-50
# --------------------------------
# TOTAL:                  $110-150/month
#
# With $1000 credits: 6-7 months runway
# ============================================================
